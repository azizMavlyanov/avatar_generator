<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <title>Search page</title>
</head>
<body>
    <div class="container">
        <div class="d-flex flex-column justify-content-center align-items-center h-200 w-200">
            <p></p>
            <div class="input-group mb-3">
                <input type="text" id="input_name" placeholder="Введите имя или никнейм" class="form-control">
                <div class="input-group-append">
                <button class="btn btn-success" id="btn_generate">Сгенерировать</button>
                </div>
            </div>
            <h3 class="mb-4" id="title"></h3>
            <img class="mb-4" src="" alt="" id="avatar_image">
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const btnGenerate = document.getElementById("btn_generate");
           
            btnGenerate.addEventListener('click', async (e) => {
                e.preventDefault();
                const inputName = document.getElementById("input_name").value;
                const title = document.getElementById("title");
                const avatar_image = document.getElementById("avatar_image");


                if (inputName) {
                    console.log(inputName);
                    title.innerText = inputName;
                    const response = await fetch(`/monsters/${inputName}/250`);
                    const responseBlob = await response.blob();
                    avatar_image.src = URL.createObjectURL(responseBlob);;
                    avatar_image.alt = inputName;
                }

            });
        });
    </script>
</body>
</html>